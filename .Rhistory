clfx<-Cl(fx.ohlc)['2015-01-05 05:00::2015-01-07 13:00',]
chartSeries(clfx
,theme=chartTheme("white",bg.col=0)
,name="tick Return")
acf(diff(clfx)[-1],lag.max = 60)#negative autocorrelation
acf(clfx,lag.max = 60)#negative autocorrelation
1minRet<-Cl(fx.ohlc)['2015-01-05 05:00::2015-01-07 13:00',]
1minRet <-Cl(fx.ohlc)['2015-01-05 05:00::2015-01-07 13:00',]
minRet <-Cl(fx.ohlc)['2015-01-05 05:00::2015-01-07 13:00',]
chartSeries(minRet
,theme=chartTheme("white",bg.col=0)
,name="tick Return")
acf(minRet,lag.max = 60)#negative autocorrelation
acf(minRet,lag.max = 90)#negative autocorrelation
acf(minRet,lag.max = 100)#negative autocorrelation
head(fx.ohlc)
k=1
fxx <- as.data.frame(fx)
fxx$Tickreturn <- c(0,diff(fxx$Mid))#log return
fx <- .xts(fxx,index = index(fx))
fx.1 <- align.time(fx,60*k)## Create 1-minute bars
fx.ohlc <- to.minutes(fx.1[,"Tickreturn"],k = 1)
colnames(fx.ohlc) <- c("Open","High","Low","Close")
fx.ohlc <- merge(fx.ohlc[endpoints(fx.ohlc,'minutes')]
,xts( ,seq(start(fx.ohlc),end(fx.ohlc),by="1 mins")))
fx.ohlc[,"Close"] <- na.locf(fx.ohlc[,"Close"])
fx.ohlc[is.na(fx.ohlc[,"Open"]),"Open"] <-
fx.ohlc[is.na(fx.ohlc[,"Open"]),"Close"]
fx.ohlc[is.na(fx.ohlc[,"Low"]),"Low"] <-
fx.ohlc[is.na(fx.ohlc[,"Low"]),"Close"]
fx.ohlc[is.na(fx.ohlc[,"High"]),"High"] <-
fx.ohlc[is.na(fx.ohlc[,"High"]),"Close"]
minRet <-Cl(fx.ohlc)['2015-01-05 05:00::2015-01-07 13:00',]
chartSeries(minRet
,theme=chartTheme("white",bg.col=0)
,name="tick Return")
acf(minRet,lag.max = 100)#negative autocorrelation
(a<-acf(minRet,lag.max = 100))#negative autocorrelation
(a<-acf(minRet,lag.max = 60))#negative autocorrelation
(a<-acf(minRet,lag.max = 10))#negative autocorrelation
print.acf
class(a)
?acf
library(moments)
skewness(minRet)#should be close to 0
kurtosis(minRet)#should be close to 0
summary(minRet)
plot(density(minRet))
plot(ecdf(minRet))
plot(density(minRet))
hist(minRet)
plot(density(minRet))
k=4
fxx <- as.data.frame(fx)
fxx$Tickreturn <- c(0,diff(fxx$Mid))#mid price log return
fx <- .xts(fxx,index = index(fx))
fx.k <- align.time(fx,60*k)## Create 1-minute bars
fx.ohlc <- to.minutes(fx.k[,"Tickreturn"],k = 1)
colnames(fx.ohlc) <- c("Open","High","Low","Close")
fx.ohlc <- merge(fx.ohlc[endpoints(fx.ohlc,'minutes')]
fx.ohlc[,"Close"] <- na.locf(fx.ohlc[,"Close"])
fx.ohlc[is.na(fx.ohlc[,"Open"]),"Close"]
fx.ohlc[is.na(fx.ohlc[,"Low"]),"Close"]
fx.ohlc[is.na(fx.ohlc[,"High"]),"High"] <-
,xts( ,seq(start(fx.ohlc),end(fx.ohlc),by="1 mins")))
fx.ohlc[is.na(fx.ohlc[,"Open"]),"Open"] <-
fx.ohlc[is.na(fx.ohlc[,"High"]),"Close"]
fx.ohlc[is.na(fx.ohlc[,"Low"]),"Low"] <-
minRet <-Cl(fx.ohlc)['2015-01-05 05:00::2015-01-07 13:00',]
k=4
fxx <- as.data.frame(fx)
fxx$Tickreturn <- c(0,diff(fxx$Mid))#mid price log return
fx <- .xts(fxx,index = index(fx))
fx.k <- align.time(fx,60*k)## Create 1-minute bars
fx.ohlc <- to.minutes(fx.k[,"Tickreturn"],k = 1)
colnames(fx.ohlc) <- c("Open","High","Low","Close")
fx.ohlc <- merge(fx.ohlc[endpoints(fx.ohlc,'minutes')]
,xts( ,seq(start(fx.ohlc),end(fx.ohlc),by="1 mins")))
fx.ohlc[,"Close"] <- na.locf(fx.ohlc[,"Close"])
fx.ohlc[is.na(fx.ohlc[,"Open"]),"Open"] <-
fx.ohlc[is.na(fx.ohlc[,"Open"]),"Close"]
fx.ohlc[is.na(fx.ohlc[,"Low"]),"Low"] <-
fx.ohlc[is.na(fx.ohlc[,"Low"]),"Close"]
fx.ohlc[is.na(fx.ohlc[,"High"]),"High"] <-
fx.ohlc[is.na(fx.ohlc[,"High"]),"Close"]
minRet <-Cl(fx.ohlc)['2015-01-05 05:00::2015-01-07 13:00',]
chartSeries(minRet
,theme=chartTheme("white",bg.col=0)
,name="tick Return")
(a<-acf(minRet,lag.max = 10))#negative autocorrelation
?to.minutes
?to.minutes
k=1
fxx <- as.data.frame(fx)
fxx$Tickreturn <- c(0,diff(fxx$Mid))#mid price log return
fx <- .xts(fxx,index = index(fx))
fx.k <- align.time(fx,60*k)## Create 1-minute bars
fx.ohlc <- to.minutes(fx.k[,"Tickreturn"],k = k)
colnames(fx.ohlc) <- c("Open","High","Low","Close")
fx.ohlc <- merge(fx.ohlc[endpoints(fx.ohlc,'minutes')]
,xts( ,seq(start(fx.ohlc),end(fx.ohlc),by="1 mins")))
fx.ohlc[,"Close"] <- na.locf(fx.ohlc[,"Close"])
fx.ohlc[is.na(fx.ohlc[,"Open"]),"Open"] <-
fx.ohlc[is.na(fx.ohlc[,"Open"]),"Close"]
fx.ohlc[is.na(fx.ohlc[,"Low"]),"Low"] <-
fx.ohlc[is.na(fx.ohlc[,"Low"]),"Close"]
fx.ohlc[is.na(fx.ohlc[,"High"]),"High"] <-
fx.ohlc[is.na(fx.ohlc[,"High"]),"Close"]
minRet <-Cl(fx.ohlc)['2015-01-05 05:00::2015-01-07 13:00',]
chartSeries(minRet
,theme=chartTheme("white",bg.col=0)
,name="tick Return")
(a<-acf(minRet,lag.max = 10))#negative autocorrelation
plot(density(diff(minRet)[-1]))
plot(density(minRet))
(a<-acf(minRet,lag.max = 10))#negative autocorrelation
skewness(minRet)#should be close to 0
kurtosis(minRet)#should be close to 0
head(minRet)
?align.time
minRet2 <- align.time(minRet,n = 60*60)## Create 1-minute bars
head(minRet2)
head(minRet)
head(Ret2)
head(minRet2)
split(minRet2, index(minRet2))
v <- function(x,p){
(mean(abs(x)^p))^(1/p)
}
lapply(split(minRet2, index(minRet2)), v)
split(minRet2, index(minRet2))[[1]]
lapply(split(minRet2, index(minRet2)), v, 1)
a<-split(minRet2, index(minRet2))[[1]]
class(a)
sapply(split(minRet2, index(minRet2)), v, 1)
volatility <-sapply(split(minRet2, index(minRet2)), v, 1)
t <- names(volatility)
class(t)
t <- as.POSIXct(names(volatility),
"%Y-%m-%d %H:%M:%OS"))
t <- as.POSIXct(names(volatility),
"%Y-%m-%d %H:%M:%OS")
names(volatility)
names(volatility)
t <- as.POSIXct(names(volatility),
"%Y-%m-%d %H:%M:%S")
?as.POSIXct
t <- as.POSIXct(strptime(names(volatility),
"%Y-%m-%d %H:%M:%S"))
t
volatility <-. xts(volatility,index = t)
volatility <-.xts(volatility,index = t)
plot(volatility)
volatility <-sapply(split(minRet2, index(minRet2)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),
"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
volatility <-sapply(split(minRet2, index(minRet2)), v, p=2)
t <- as.POSIXct(strptime(names(volatility),
"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
plot(volatility)
volatility <-sapply(split(minRet2, index(minRet2)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),
"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
plot(volatility)
index(mintRet)
index(minRet)
volatility <-sapply(split(minRet2["2015-01-06"], index(minRet2)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),
"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
plot(volatility)
minRet2["2015-01-06"]
head(minRet2["2015-01-06"])
tail(minRet2["2015-01-06"])
minRet2["2015-01-06"][1]
minRet[1]
minRet["::2015-01-06"]
minRet["::2015-01-06 3:59:00"]
minRet["::2015-01-05"]
length(minRet["::2015-01-05"])
minRet[1140]
minRet[1141]
minRet[1142]
minRet[1143]
minRet2 <- align.time(minRet,n = 60*1)## Create 1-minute bars
#split(minRet2, index(minRet2))
volatility <-sapply(split(minRet2["2015-01-06"], index(minRet2)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),
"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
plot(volatility)
minRet2 <- align.time(minRet,n = 60*60)## Create 1-minute bars
#split(minRet2, index(minRet2))
volatility <-sapply(split(minRet2["2015-01-06"], index(minRet2)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),
"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
plot(volatility)
head(minRet)
head(minRet["2015-01-05"])
head(minRet["2015-01-06"])
head(minRet2["2015-01-06"])
head(minRet2,3)
head(minRet2["2015-01-05"])
head(minRet2["2015-01-06"])
head(minRet2["2015-01-07"])
minRet2
tail(minRet)
minRet2[1140]
minRet2[1141]
minRet2[1142]
minRet2[11410]
minRet2[1145]
minRet2["2015-01-06"]
head(minRet2[1145])
head(minRet2[1145],4)
minRet2["2015-01-06"]
minRet2["2015-01-06"]
head(minRet2["2015-01-06"])
minRet2["2015-01-06"]
minRet2["2015-01-06"][1]
minRet2["2015-01-06"][100]
head(minRet2["2015-01-06 01:00:00::2015-01-07 01:00:00"])
tail(minRet2["2015-01-06 01:00:00::2015-01-07 01:00:00"])
volatility <-sapply(split(minRet2["2015-01-06 01:00:00::2015-01-07 01:00:00"], index(minRet2)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),
"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
plot(volatility)
head(volatility)
volatility <-sapply(split(minRet2["2015-01-06 01:00:00::2015-01-07 01:00:00"], index(minRet2)), v, p=1)
volatility[1]
oneday<-minRet2["2015-01-06 01:00:00::2015-01-07 01:00:00"]
oneday<-minRet2["2015-01-06 01:00:00::2015-01-07 01:00:00"]
volatility <-sapply(split(oneday, index(oneday)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),
"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
plot(volatility)
barplot(volatility)
oneday<-minRet2["2015-01-06 00:00:00::2015-01-07 00:00:00"]
volatility <-sapply(split(oneday, index(oneday)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),
"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
barplot(volatility)
head(volatility)
strptime(names(volatility)
)
strptime()
?strptime
volatility <-sapply(split(oneday, index(oneday)), v, p=1)
strptime(names(volatility)
)
t <- format(as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S")),"%H:%M")
head(t)
volatility <-.xts(volatility,index = t)
oneday<-minRet2["2015-01-06 00:00:00::2015-01-07 00:00:00"]
volatility <-sapply(split(oneday, index(oneday)), v, p=1)
t <- format(as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S")),"%H:%M")
volatility <-.xts(volatility,index = t)
barplot(volatility)
t
class(t)
volatility <-.xts(volatility,index = as.POSIXct(t,"%H:%M"))
oneday<-minRet2["2015-01-06 00:00:00::2015-01-07 00:00:00"]
volatility <-sapply(split(oneday, index(oneday)), v, p=1)
t <- format(as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S")),"%H:%M")
volatility <-.xts(volatility,index = as.POSIXct(t,"%H:%M"))
as.POSIXct(t,"%H:%M")
t[1]
as.Date(t,"%H:%M")
t
as.POSIXlt(t)
as.POSIXlt(t,"%H:%M")
t <- strptime(as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S")),"%H:%M")
t
?strptime
t
t <- format(as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S"))
,"%H:%M")
strptime(t,"%H:%M")
T
t <- format(as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S"))
)
t
t <- format(as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S"))
,"%H:%M")
t
strptime(t,"%H:%M")
oneday<-minRet2["2015-01-06 00:00:00::2015-01-07 00:00:00"]
volatility <-sapply(split(oneday, index(oneday)), v, p=1)
t <- format(as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S")),"%H:%M")
volatility <-.xts(volatility,index = t)
t <- format(as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S")),"%H:%M")
T
t
t <- as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
barplot(volatility)
source('~/Box Sync/articles/high freq/Rscript/1min.R', echo=TRUE)
hourRet <- align.time(Cl(fx.ohlc),n = 60*k)## Create 1-hour bars
#split(minRet2, index(minRet2))
oneday<-hourRet["2015-01-06 00:00:00::2015-01-07 00:00:00"]
volatility <-sapply(split(oneday, index(oneday)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
barplot(volatility)
oneday<-hourRet["2015-01-07 00:00:00::2015-01-08 00:00:00"]
volatility <-sapply(split(oneday, index(oneday)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
barplot(volatility)
head(fx)
k=60
fx.k <- align.time(fx,60*k)## Create 1-minute bars
fx.ohlc <- to.minutes(fx.k[,"Tickreturn"],k = k)
colnames(fx.ohlc) <- c("Open","High","Low","Close")
fx.ohlc <- merge(fx.ohlc[endpoints(fx.ohlc,'minutes')]
,xts( ,seq(start(fx.ohlc),end(fx.ohlc),by="1 mins")))
fx.ohlc[,"Close"] <- na.locf(fx.ohlc[,"Close"])
fx.ohlc[is.na(fx.ohlc[,"Open"]),"Open"] <-
fx.ohlc[is.na(fx.ohlc[,"Open"]),"Close"]
fx.ohlc[is.na(fx.ohlc[,"Low"]),"Low"] <-
fx.ohlc[is.na(fx.ohlc[,"Low"]),"Close"]
fx.ohlc[is.na(fx.ohlc[,"High"]),"High"] <-
fx.ohlc[is.na(fx.ohlc[,"High"]),"Close"]
k=60#1_HOUR
fx.k <- align.time(fx,60*k)## Create 1-minute bars
fx.ohlc <- to.minutes(fx.k[,"Tickreturn"],k = k)
colnames(fx.ohlc) <- c("Open","High","Low","Close")
fx.ohlc <- merge(fx.ohlc[endpoints(fx.ohlc,'minutes')]
,xts( ,seq(start(fx.ohlc),end(fx.ohlc),by="1 mins")))
fx.ohlc[,"Close"] <- na.locf(fx.ohlc[,"Close"])
fx.ohlc[is.na(fx.ohlc[,"Open"]),"Open"] <-
fx.ohlc[is.na(fx.ohlc[,"Open"]),"Close"]
fx.ohlc[is.na(fx.ohlc[,"Low"]),"Low"] <-
fx.ohlc[is.na(fx.ohlc[,"Low"]),"Close"]
fx.ohlc[is.na(fx.ohlc[,"High"]),"High"] <-
fx.ohlc[is.na(fx.ohlc[,"High"]),"Close"]
hourRet <-Cl(fx.ohlc)['2015-01-05 05:00::2015-01-07 13:00',]
v <- function(x,p){
(mean(abs(x)^p))^(1/p)
}
hourRet <-Cl(fx.ohlc)
v <- function(x,p){
(mean(abs(x)^p))^(1/p)
}
#split(minRet2, index(minRet2))
oneday<-hourRet["2015-01-07 00:00:00::2015-01-08 00:00:00"]
volatility <-sapply(split(oneday, index(oneday)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
barplot(volatility)#u shape volatility
oneday<-hourRet["2015-01-06 00:00:00::2015-01-06 00:00:00"]
volatility <-sapply(split(oneday, index(oneday)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
barplot(volatility)#u shape volatility
oneday<-hourRet["2015-01-08 00:00:00::2015-01-08 00:00:00"]
volatility <-sapply(split(oneday, index(oneday)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
barplot(volatility)#u shape volatility
head(volatilit)
head(volatility)
head(hourRet)
head(fx.k[,"Tickreturn"])
head(hourRet["2015-01-08 00:00:00::2015-01-08 00:00:00"])
head(hourRet["2015-01-08 00:00:00::2015-01-08 00:00:00"],5)
hourRet["2015-01-08 00:00:00::2015-01-08 00:00:00"][1:5]
oneday<-hourRet["2015-01-08 00:00:00::2015-01-09 00:00:00"]
volatility <-sapply(split(oneday, index(oneday)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
barplot(volatility)#u shape volatility
hourRet <-Cl(fx.ohlc)
hourRet <- align.time(hourRet,60*60)# CREATE ONE HOUR bars
v <- function(x,p){
(mean(abs(x)^p))^(1/p)
}
oneday<-hourRet["2015-01-08 00:00:00::2015-01-09 00:00:00"]
volatility <-sapply(split(oneday, index(oneday)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
barplot(volatility)#u shape volatility
head(hourRet)
head(hourRet)
k=1#1_min interval
fx.k <- align.time(fx,60*k)## Create 1-minute bars
fx.ohlc <- to.minutes(fx.k[,"Tickreturn"],k = k)
colnames(fx.ohlc) <- c("Open","High","Low","Close")
fx.ohlc <- merge(fx.ohlc[endpoints(fx.ohlc,'minutes')]
,xts( ,seq(start(fx.ohlc),end(fx.ohlc),by="1 mins")))
fx.ohlc[,"Close"] <- na.locf(fx.ohlc[,"Close"])
fx.ohlc[is.na(fx.ohlc[,"Open"]),"Open"] <-
fx.ohlc[is.na(fx.ohlc[,"Open"]),"Close"]
fx.ohlc[is.na(fx.ohlc[,"Low"]),"Low"] <-
fx.ohlc[is.na(fx.ohlc[,"Low"]),"Close"]
fx.ohlc[is.na(fx.ohlc[,"High"]),"High"] <-
fx.ohlc[is.na(fx.ohlc[,"High"]),"Close"]
hourRet <-Cl(fx.ohlc)
head(hourRet)
?align.time
head(fx)
(fx$Tickreturn)[1]
(fx$Tickreturn)[2]
hourRet <- align.time(fx$Tickreturn ,60*60)# CREATE ONE HOUR bars
head(hourRetr)
head(hourRet)
Ret <- align.time(fx$Tickreturn ,60*60)# CREATE ONE HOUR bars
Ret <- align.time(fx$Tickreturn ,60*60)# CREATE ONE HOUR bars
HourRet <-sapply(split(Ret, index(Ret)), sum)
HourRet[1:5]
t <- as.POSIXct(strptime(names(HourRet),"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(HourRet,index = t)
HourRet <-.xts(HourRet,index = t)
HourRet[1:5]
Ret <- align.time(fx$Tickreturn ,60*60)# CREATE ONE HOUR bars
HourRet <-sapply(split(Ret, index(Ret)), sum)
t <- as.POSIXct(strptime(names(HourRet),"%Y-%m-%d %H:%M:%S"))
HourRet <-.xts(HourRet,index = t)
acf(HourRet)
lengh
lengh(HourRet)
length(HourRet)
acf(abs(HourRet))
acf(HourRet^2)
head(HourRet)
HourRet
load("eurusd20151.RData")
range(index(fx))
fxx <- as.data.frame(fx)
fxx$Tickreturn <- c(0,diff(fxx$Mid))#mid price log return
fx <- .xts(fxx,index = index(fx))
head(fx)
k=1
fx.k <- align.time(fx,60*k)## Create 1-minute bars
head(fx)
head(fx.k)
k=1
Ret <- align.time(fx$Tickreturn ,60*k)# CREATE ONE minute bars
minRet <-sapply(split(Ret, index(Ret)), sum)
t <- as.POSIXct(strptime(names(minRet),"%Y-%m-%d %H:%M:%S"))
HourRet <-.xts(HourRet,index = t)
minRet <-.xts(minRet,index = t)
head(index(Ret))
head(minRet)
chartSeries(minRet
,theme=chartTheme("white",bg.col=0)
,name="tick Return")
(a<-acf(minRet,lag.max = 10))#negative autocorrelation
plot(density(minRet))
(a<-acf(minRet,lag.max = 10))#negative autocorrelation
(a<-acf(minRet,lag.max = 20))#negative autocorrelation
sum(split(Ret, index(Ret))[[1]])
minRet[1]
(split(Ret, index(Ret))[[1]])
mean(split(Ret, index(Ret))[[1]])
plot(density(minRet))
skewness(minRet)#should be close to 0
kurtosis(minRet)#should be close to 0
summary(minRet)
Ret <- align.time(fx$Tickreturn ,60*60)# CREATE ONE HOUR bars
HourRet <-sapply(split(Ret, index(Ret)), sum)
t <- as.POSIXct(strptime(names(HourRet),"%Y-%m-%d %H:%M:%S"))
HourRet <-.xts(HourRet,index = t)
acf(abs(HourRet))
acf(HourRet^2)
plot(density(HourRet))
k=1
Ret <- align.time(fx$Tickreturn ,60*k)# CREATE ONE minute bars
minRet <-sapply(split(Ret, index(Ret)), sum)#1min return
t <- as.POSIXct(strptime(names(minRet),"%Y-%m-%d %H:%M:%S"))
minRet <-.xts(minRet,index = t)
head(minRet)
hourRet <- align.time(minRet,60*60)# CREATE ONE HOUR bars
head(hourRet)
v <- function(x,p){
(mean(abs(x)^p))^(1/p)
}
oneday<-hourRet["2015-01-08 00:00:00::2015-01-09 00:00:00"]
hourRet
hourRet["2015-01-08 00:00:00::2015-01-09 00:00:00"]
hourRet["2015-01-08 00:00:00::2015-01-09 01:00:00"]
hourRet[1:5]
hourRet["2015-01-04 18:00:00:2015-01-05 18:00:00"]
hourRet["2015-01-04 18:00:00 :: 2015-01-05 18:00:00"]
hourRet["2015-01-04 18:00:00"]
class(hourRet)
head(hourRet)
head(minRet)
oneday<- hourRet["2015-01-08 00:00:00::"]
oneday<- hourRet["2015-01-05 00:00:00::"]
oneday<- hourRet
volatility <-sapply(split(oneday, index(oneday)), v, p=1)
t <- as.POSIXct(strptime(names(volatility),"%Y-%m-%d %H:%M:%S"))
volatility <-.xts(volatility,index = t)
barplot(volatility)#u shape volatility
k=60
Ret <- align.time(fx$Tickreturn ,60*k)# CREATE ONE HOUR bars
HourRet <-sapply(split(Ret, index(Ret)), sum)
t <- as.POSIXct(strptime(names(HourRet),"%Y-%m-%d %H:%M:%S"))
HourRet <-.xts(HourRet,index = t)
acf(abs(HourRet))
acf(HourRet^2)
barplot(volatility)#u shape volatility
headn
head(fx)
